<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="next" href="Conex_utils.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Conex" rel="Chapter" href="Conex.html">
<link title="Conex_utils" rel="Chapter" href="Conex_utils.html">
<link title="Conex_repository" rel="Chapter" href="Conex_repository.html">
<link title="Conex_resource" rel="Chapter" href="Conex_resource.html">
<link title="Conex_io" rel="Chapter" href="Conex_io.html">
<link title="Conex_opam_repository_layout" rel="Chapter" href="Conex_opam_repository_layout.html">
<link title="Conex_crypto" rel="Chapter" href="Conex_crypto.html">
<link title="Conex_opam_encoding" rel="Chapter" href="Conex_opam_encoding.html">
<link title="Conex_unix_persistency" rel="Chapter" href="Conex_unix_persistency.html">
<link title="Conex_unix_provider" rel="Chapter" href="Conex_unix_provider.html">
<link title="Conex_unix_private_key" rel="Chapter" href="Conex_unix_private_key.html">
<link title="Conex_diff" rel="Chapter" href="Conex_diff.html">
<link title="Conex_diff_provider" rel="Chapter" href="Conex_diff_provider.html">
<link title="Conex_nocrypto" rel="Chapter" href="Conex_nocrypto.html"><title>Conex</title>
</head>
<body>
<div class="navbar">&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Conex_utils.html" title="Conex_utils">Next</a>
</div>
<h1>Module <a href="type_Conex.html">Conex</a></h1>

<pre><span class="keyword">module</span> Conex: <code class="code"><span class="keyword">sig</span></code> <a href="Conex.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
Establish trust into community repositories
<p>

    A community repository gathers data from authors to provide an index
    including cross-references.
<p>

    Software package repositories contain metadata about libraries: license,
    author, dependencies, build instructions, url and checksum of the release
    tarball.  Someone publishes a library, and it gets integrated as long as the
    package name is not yet used and approved by those keeping the repository
    tidy.  Sometimes it is necessary to include small patch files in the
    repository, e.g. to get a library to compile with a new compiler release, or
    on non-mainstream operating system.  Library build instructions often
    include shell scripts, source code can execute arbitrary code, modifying
    version constraints in dependency may lead to compiling code with known
    security vulnerabilities.
<p>

    The transport layer to the repository is usually secured using TLS, or SSH
    and git.  But what about the repository itself?  Can we ensure that it
    serves the library metadata as intended by the authors?  Or do we have to
    trust the administrators of the repository server to ensure its integrity?
    Again, these are people who can be malicious, blackmailed, forced by the
    government, or have other evil intentions.
<p>

    <code class="code"><span class="constructor">Conex</span></code> ensures that each library release has been approved by its author.
    Furthermore, once a library release is known to the client, this information
    cannot be rolled back by an attacker. A timestamping service periodically
    approves a global view of all libraries in the repository, and thus
    mitigates mix-and-match attacks where someone malicious prevents a client
    from getting updates for one library while retrieving other updates.
<p>

    The trust is rooted in digital signatures by library authors.  The server
    which hosts the repository does not need to be trusted.  Neither does the
    host serving release tarballs.
<p>

    Someone needs to vouch for an author: the private part of a public key
    stored in the repository should be known to the real author, and solely to
    that person.  If a single entity would be in control to vouch for authors,
    this entity would need to fully trusted by all clients.  Instead, a quorum
    of a janitor team is used in conex.  Janitors can together vouch for a
    public key of an author, extend and shrink teams, authorise and deauthorise
    an author or team for a package, and even checksums of packages and releases<ul>
<li>useful for hot fixing when a core package is updated, and all reverse
    dependencies need adjustments.</li>
</ul>

    Conex adds metadata to a data repository (viewed as a map where package name
    is the domain and releases thereof the codomain) to ensure integrity and
    authenticity.  Different resource types are added:
    <ul>
<li>Authors, consisting of a unique identifier, public key(s), accounts.</li>
<li>Teams, sharing the same namespace as authors, containing a set of
       members.</li>
<li>Authorisation, for each package, describing which identities are
       authorised for the package.</li>
<li>Package, for each package, listing all releases.</li>
<li>Release, for each release, listing checksums of all data files.</li>
</ul>

<p>

    Modifications to identities and authorisations need to be approved by a
    quorum of janitors, package and release files can be modified either by an
    authorised author or by a quorum of janitors.
<p>

    Conex initially ensures that the repository is properly signed, and updates
    to the repository are verified individually: the repository on disk is
    trusted, a given patch file is verified by ensuring all resources modified
    in the patch result in a valid repository (sufficient approvals).
    Additionally, monotonicity is preserved by embedding counters in each
    resource, and enforcing a counter increment after modification.
<p>

    <b>NOTE: this is still work in progress, especially the documentation is not
    yet finished, and some API changes need to happen for clarification</b>
<p>

    <em>471fd87 - <a href="https://github.com/hannesm/conex ">homepage</a></em><br>
</div>
<hr width="100%">

<pre><span class="keyword">module</span> <a href="Conex.Make.html">Make</a>: <div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">L</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="Conex_utils.LOGS.html">Conex_utils.LOGS</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">C</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="Conex_crypto.VERIFY.html">Conex_crypto.VERIFY</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><code class="code"><span class="keyword">sig</span></code> <a href="Conex.Make.html">..</a> <code class="code"><span class="keyword">end</span></code></div></div></pre></body></html>